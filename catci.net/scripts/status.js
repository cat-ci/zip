const steamStates={0:"Offline!",1:"Online!",2:"Busy!",3:"Away!",4:"Snooze!",5:"Looking to Trade!",6:"Looking to Play!",7:"Invisible!"};function getStatusCategory(t){return[1,2,5,6].includes(t)?{status:steamStates[t],class:"online"}:[3,4].includes(t)?{status:steamStates[t],class:"away"}:{status:steamStates[t]||"Offline!",class:"offline"}}function generateRandomString(){return Math.random().toString(36).substring(2,10)}function saveStatusToLocalStorage(t,a){localStorage.setItem("steamStatus",JSON.stringify({status:t,className:a,timestamp:Date.now()}))}function getLastKnownStatus(){let t=localStorage.getItem("steamStatus");return t?JSON.parse(t):null}function updateStatusDisplay(t,a){let s=document.getElementById("steamStatus");s&&(s.textContent=t,s.className=`status ${a}`,saveStatusToLocalStorage(t,a))}async function getStatus(){try{let t=generateRandomString(),a=`https://corsproxy.io/?url=https://api.catci.net/api/steam?_=${t}`,s=await fetch(a);if(!s.ok)throw Error("Network response was not ok");let e=await s.json(),n=e.state??e.player?.personastate??0,o=getStatusCategory(n);updateStatusDisplay(o.status,o.class)}catch(u){console.error("Error details:",u);let l=getLastKnownStatus();l?updateStatusDisplay(l.status,l.className):updateStatusDisplay("Offline!","offline")}}const lastKnown=getLastKnownStatus();lastKnown&&updateStatusDisplay(lastKnown.status,lastKnown.className),getStatus(),setInterval(getStatus,3e4);
